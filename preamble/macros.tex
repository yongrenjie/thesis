\newcommand{\autociteset}[1]{\autocite{\usebibentry{#1}{entryset}}}

\newcommand{\thesistitle}{Optimising NMR Spectroscopy through Method and Software Development}

\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\newcommand*{\magn}[1]{\ch{^1H}$^{\ch{#1}}$}
\newcommand*{\magnnot}[1]{\ch{^1H}$^{!\ch{#1}}$}

\newcommand{\todo}[1]{{\color{OrangeRed}#1}}

% Shortcuts
\newcommand{\mi}{\mathrm{i}}
\newcommand{\md}{\mathrm{d}}
\newcommand{\taum}{\tau_\mathrm{m}}
\newcommand{\taup}{\tau_\mathrm{p}}
\newcommand{\taur}{\tau_\mathrm{r}}
\newcommand{\half}{½}
\newcommand{\adj}[1]{#1^\dagger}
\newcommand{\datacode}[1]{\textit{Data code:} \texttt{#1}.}
\newcommand{\gammaH}{\gamma_{\ch{H}}}
\newcommand{\gammaC}{\gamma_{\ch{C}}}
\newcommand{\gammaN}{\gamma_{\ch{N}}}

% People
\newcommand{\JBV}{Jean-Baptiste Verstraete}
\newcommand{\JND}{Jean-Nicolas Dumez}
\newcommand{\EK}{{\=E}riks Kup{\v{c}}e}


\newfontface{\libertinusfont}{Libertinus Math}
\ExplSyntaxOn
\NewDocumentCommand{\circled}{m}{
    \raisebox{-0.4ex}{\Large\libertinusfont
        \str_case:nn{#1}{
            {1}{①}{2}{②}{3}{③}{4}{④}{5}{⑤}{6}{⑥}{7}{⑦}{8}{⑧}{9}{⑨}{0}{⓪}
        }
    }
}
\ExplSyntaxOff

% Nuclei
\newcommand{\proton}{\ch{{}^{1}H}}
\newcommand{\carbon}{\ch{{}^{13}C}}
\newcommand{\carbont}{\ch{{}^{12}C}}
\newcommand{\nitrogen}{\ch{{}^{15}N}}
\newcommand{\fluorine}{\ch{{}^{19}F}}
\newcommand{\phosphorus}{\ch{{}^{31}P}}

% Couplings
\newcommand{\oneJ}[1]{{}^{1}\!J_{\ch{#1}}}
\newcommand{\nJ}[1]{{}^{n}\!J_{\ch{#1}}}

% Solvents
\newcommand{\dmso}{DMSO-$d_6$}
\newcommand{\benzene}{\ch{C6D6}}
\newcommand{\chloroform}{\ch{CDCl3}}

% NOAH
\ExplSyntaxOn
\msg_new:nnn{noah}{module-not-found}{Module~code~`#1'~not~recognised.~If~it~was~not~a~typo,~you~may~need~to~define~this~in~\c_backslash_str noahmodule.}
\NewDocumentCommand{\noahmodule}{m}{
    \str_case:nnTF{#1}{
        {A}{A}
        {Bn}{B${}\sb{\ch{N}}$}
        {B}{B}
        {Cc}{C$\sp{\text{c}}$}
        {Cqf}{C$\sp{\text{qf}}$}
        {C}{C}
        {D}{C}
        {Jqf}{J$\sp{\text{qf}}$}
        {J}{J}
        {Mn}{M$\sb{\ch{N}}$}
        {M}{M}
        {N}{N}
        {O}{O}
        {Pt}{P$\sp{\text{T}}$}
        {P}{P}
        {R}{R}
        {Sc}{S$\sp{\text{C}}$}
        {Sn}{S$\sb{\ch{N}}$}
        {Spa}{S$\sp+\sb1$}
        {Spb}{S$\sp+\sb2$}
        {Spn}{S$\sp{+}\sb{\ch{N}}$}
        {Sp}{S$\sp+$}
        {St}{S$\sp{\text{T}}$}
        {S}{S}
        {T}{T}
        {X}{X}
        }{}{\textbf{?}
        \msg_error:nnn{noah}{module-not-found}{#1}}
}
\NewDocumentCommand{\noah}{s m}{
    \IfBooleanTF{#1}{}{NOAH-\clist_count:n{#2}~}
    {\clist_map_inline:nn{#2}{\noahmodule{##1}}}
}
\ExplSyntaxOff

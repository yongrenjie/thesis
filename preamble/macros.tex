\newcommand{\autociteset}[1]{\autocite{\usebibentry{#1}{entryset}}}

\newcommand{\thesistitle}{Optimising NMR Spectroscopy through Method and Software Development}

\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\sgn}{sgn}
\newcommand{\magn}[1]{\ch{^1H}$^{\ch{#1}}$}
\newcommand{\magnnot}[1]{\ch{^1H}$^{!\ch{#1}}$}

\newcommand{\todo}[1]{{\color{OrangeRed}#1}}

% Shortcuts.
% Some of these are kind of a weird mixture of symup and text. The
% reason for this is because symup gives the right kerning, but
% text gives the right ligatures. I wish it were simpler, but
% that's how it is. In any case, defining them here makes life
% easier in the main text.
\newcommand{\mi}{\symup{i}}
\newcommand{\mj}{\symup{j}}
\newcommand{\mk}{\symup{k}}
\newcommand{\md}{\symup{d}}
\newcommand{\cpi}{\symup{\pi}}
\newcommand{\taum}{\tau_{\symup{m}}}
\newcommand{\taup}{\tau_{\symup{p}}}
\newcommand{\taur}{\tau_{\symup{r}}}
\newcommand{\tauacq}{\tau_{\symup{acq}}}
\newcommand{\tauexp}{\tau_{\symup{exp}}}
\newcommand{\taups}{\tau_{\symup{ps}}}
\newcommand{\tauconv}{\tau_{\symup{conv}}}
\newcommand{\tauNOAH}{\tau_{\symup{NOAH}}}
\newcommand{\vareeff}{\varepsilon_{\symup{e}\text{ff}}}
\newcommand{\rhoteff}{\rho_{t,\text{eff}}}
\newcommand{\fphase}{f_{\symup{phase}}}
\newcommand{\fdiff}{f_{\symup{d}\text{iff}}}
\newcommand{\fdifftwo}{f_{\symup{d}\text{iff,2}}}
\newcommand{\fsos}{f_{\symup{sos}}}
\newcommand{\fsosre}{f_{\symup{sos}}'}
\newcommand{\Gmax}{G_{\symup{max}}}
\newcommand{\Gmin}{G_{\symup{min}}}
\newcommand{\Hcs}{H_{\symup{cs}}}
\newcommand{\Hgrad}{H_{\symup{grad}}}
\newcommand{\Hfree}{H_{\symup{free}}}
\newcommand{\HfreeI}{H_{\symup{free},I}}
\newcommand{\HJ}{H_{\symup{J}}}
\newcommand{\Hoffset}{H_{\symup{offset}}}
\newcommand{\Hpulse}{H_{\symup{pulse}}}
\newcommand{\HpulseI}{H_{\symup{pulse},I}}
\newcommand{\thetaE}{\theta_{\symup{E}}}
\newcommand{\thetaeff}{\theta_{\symup{e}\text{ff}}}
\newcommand{\Jeff}{J_{\symup{e}\text{ff}}}
\newcommand{\Jmax}{J_{\symup{max}}}
\newcommand{\Jmin}{J_{\symup{min}}}
\newcommand{\Tchunk}{T_{\symup{chunk}}}
\newcommand{\phicorr}{\phi_{\symup{corr}}}
\newcommand{\phirec}{\phi_{\symup{rec}}}
\newcommand{\omegatx}{\omega_{\symup{tx}}}
\newcommand{\omegarot}{\omega_{\symup{rot}}}
\newcommand{\half}{½}
\newcommand{\adj}[1]{#1^\dagger}
\newcommand{\datacode}[1]{\textit{Data code:} \texttt{#1}.}
\newcommand{\gammaH}{\gamma_{\ch{H}}}
\newcommand{\gammaC}{\gamma_{\ch{C}}}
\newcommand{\gammaN}{\gamma_{\ch{N}}}
\newcommand{\AQ}{\text{AQ}_1}
\newcommand{\AQeff}{\text{AQ}_{1,\text{eff}}}
\newcommand{\DeltaE}{\Delta_{\symup{E}}}
\newcommand{\angang}[2]{#1\rlap{\unit{\degree}}\ensuremath{_{#2}}}

% People
\newcommand{\JBV}{Jean-Baptiste Verstraete}
\newcommand{\JND}{Jean-Nicolas Dumez}
\newcommand{\EK}{{\=E}riks Kup{\v{c}}e}


\newfontface{\libertinusfont}{Libertinus Math}
\ExplSyntaxOn
\NewDocumentCommand{\circled}{m}{
    \raisebox{-0.4ex}{\Large\libertinusfont
        \str_case:nn{#1}{
            {1}{①}{2}{②}{3}{③}{4}{④}{5}{⑤}{6}{⑥}{7}{⑦}{8}{⑧}{9}{⑨}{0}{⓪}
        }
    }
}
\ExplSyntaxOff

% Nuclei
\newcommand{\proton}{\ch{{}^{1}H}}
\newcommand{\carbon}{\ch{{}^{13}C}}
\newcommand{\carbont}{\ch{{}^{12}C}}
\newcommand{\nitrogen}{\ch{{}^{15}N}}
\newcommand{\fluorine}{\ch{{}^{19}F}}
\newcommand{\phosphorus}{\ch{{}^{31}P}}

% Couplings
\newcommand{\oneJ}[1]{{}^{1}\!J_{\!\ch{#1}}}
\newcommand{\nJ}[1]{{}^{n}\!J_{\!\ch{#1}}}

% Solvents
\newcommand{\dmso}{DMSO-$d_6$}
\newcommand{\benzene}{\ch{C6D6}}
\newcommand{\chloroform}{\ch{CDCl3}}

% NOAH
\ExplSyntaxOn
\msg_new:nnn{noah}{module-not-found}{Module~code~`#1'~not~recognised.~If~it~was~not~a~typo,~you~may~need~to~define~this~in~\c_backslash_str noahmodule.}
\NewDocumentCommand{\noahmodule}{m}{
    \str_case:nnTF{#1}{
        {A}{A}
        {Bn}{B${}\sb{\ch{N}}$}
        {B}{B}
        {Cc}{C$\sp{\text{c}}$}
        {Cqf}{C$\sp{\text{qf}}$}
        {C}{C}
        {D}{D}
        {Jqf}{J$\sp{\text{qf}}$}
        {J}{J}
        {Mn}{M$\sb{\ch{N}}$}
        {M}{M}
        {N}{N}
        {O}{O}
        {Pt}{P$\sp{\text{T}}$}
        {P}{P}
        {R}{R}
        {Sc}{S$\sp{\text{C}}$}
        {Sn}{S$\sb{\ch{N}}$}
        {Spa}{S$\sp+\sb1$}
        {Spb}{S$\sp+\sb2$}
        {Spn}{S$\sp{+}\sb{\ch{N}}$}
        {Sp}{S$\sp+$}
        {St}{S$\sp{\text{T}}$}
        {S}{S}
        {T}{T}
        {X}{X}
        }{}{\textbf{?}
        \msg_error:nnn{noah}{module-not-found}{#1}}
}
\NewDocumentCommand{\noah}{s m}{
    \IfBooleanTF{#1}{}{NOAH-\clist_count:n{#2}~}
    {\clist_map_inline:nn{#2}{\noahmodule{##1}}}
}
\ExplSyntaxOff
